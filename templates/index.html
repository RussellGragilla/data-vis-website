<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CO₂ Emissions by Country</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-light">

<div class="container my-5">
    <!-- Header -->
    <section id="intro" class="mb-4 text-center">
        <h1 class="mb-3">CO₂ Emissions Over Time</h1>
        <p>This dashboard lets you explore how carbon dioxide emissions have changed by country and year. Select a country and a range of years to visualize the trend.</p>
    </section>

    <!-- Top Emitters Section -->
    <div class="card mb-4 p-4">
        <h4>Top Emitters by Year</h4>
        <div class="row g-3 align-items-end">
            <div class="col-md-4">
                <label for="topYear" class="form-label">Select Year:</label>
                <select id="topYear" class="form-select"></select>
            </div>
            <div class="col-md-4">
                <button class="btn btn-primary w-100" onclick="loadTopEmitters()">Show Top Emitters</button>
            </div>
        </div>
        <div class="mt-4">
            <canvas id="topEmittersChart" height="100"></canvas>
        </div>
    </div>

    <!-- Filters and Chart Section -->
    <div class="card mb-4 p-4">
        <h4>Filter</h4>
        <div class="row g-3">
            <div class="col-md-4">
                <label for="country" class="form-label">Select Country/Countries:</label>
                <select id="country" class="form-select" multiple size="6"></select>
            </div>
            <div class="col-md-4">
                <label for="startYear" class="form-label">Start Year:</label>
                <input type="number" id="startYear" class="form-control" min="1750" max="2023" value="1990">
            </div>
            <div class="col-md-4">
                <label for="endYear" class="form-label">End Year:</label>
                <input type="number" id="endYear" class="form-control" min="1750" max="2023" value="2020">
            </div>
        </div>
        <div class="row mt-3">
            <div class="col">
                <button class="btn btn-success w-100" onclick="loadData()">Generate Chart</button>
            </div>
        </div>
    </div>

    <!-- Chart -->
    <div class="card mb-4 p-4">
        <canvas id="co2Chart" height="100"></canvas>
    </div>

    <!-- Summary -->
    <div class="card p-4">
        <h5>Summary</h5>
        <p id="summaryText" class="text-muted">Select a country and range to view summary statistics here.</p>
    </div>
</div>

<script src="{{ url_for('static', filename='chart.js') }}"></script>
</body>
</html>
